<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Coloring # The following samples had the purpose to experiment color and lighting in the shaders. This principles are going to be used later on more sofisticated lighting tequniques.
Problem statement # Comprehend properly the color and lighting concepts in the shaders. And to use gragment shaders properly.
Background # Observing the behavior of the color effects, we can rapidly see that the colors are rastered and remapped to the screen."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://visual-computing-2022-2.github.io/Talleres/docs/Workshop/Shaders/Coloring/"><title>Coloring | Visual Computing</title><link rel=manifest href=/Talleres/manifest.json><link rel=icon href=/Talleres/favicon.png type=image/x-icon><link rel=stylesheet href=/Talleres/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/Talleres/flexsearch.min.js></script>
<script defer src=/Talleres/en.search.min.a4a7569b49f79aff884753eecc7535cb3a0748bedba1fc6426e9b0f84c70ac00.js integrity="sha256-pKdWm0n3mv+IR1PuzHU1yzoHSL7bofxkJumw+ExwrAA=" crossorigin=anonymous></script>
<link rel=alternate type=application/rss+xml href=https://visual-computing-2022-2.github.io/Talleres/docs/Workshop/Shaders/Coloring/index.xml title="Visual Computing"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/Talleres/><span>Visual Computing</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><a href=/Talleres/docs/Workshop/>Workshop</a><ul><li><input type=checkbox id=section-890fdf72107ced932b57ba979e798b88 class=toggle checked>
<label for=section-890fdf72107ced932b57ba979e798b88 class="flex justify-between"><a role=button>Shaders</a></label><ul><li><a href=/Talleres/docs/Workshop/Shaders/Coloring/ class=active>Coloring</a><ul></ul></li><li><a href=/Talleres/docs/Workshop/Shaders/Image_Processing/>Image Processing</a><ul></ul></li><li><a href=/Talleres/docs/Workshop/Shaders/Lighting/>Lighting</a><ul></ul></li><li><a href=/Talleres/docs/Workshop/Shaders/Photomosaic/>Photomosaic</a><ul></ul></li><li><a href=/Talleres/docs/Workshop/Shaders/Spatial_Coherence/>Spatial Coherence</a><ul></ul></li><li><a href=/Talleres/docs/Workshop/Shaders/Textures/>Textures</a><ul></ul></li></ul></li><li><input type=checkbox id=section-8d2b6a08245086db5d9347a14c60b971 class=toggle>
<label for=section-8d2b6a08245086db5d9347a14c60b971 class="flex justify-between"><a href=/Talleres/docs/Workshop/workshop_1/>Workshop 1</a></label><ul><li><a href=/Talleres/docs/Workshop/workshop_1/masking/>Masking</a></li><li><input type=checkbox id=section-2aa212ced681e7ddb472ce2ea2174f76 class=toggle>
<label for=section-2aa212ced681e7ddb472ce2ea2174f76 class="flex justify-between"><a href=/Talleres/docs/Workshop/workshop_1/visual_ilussion/>Visual Ilussion</a></label><ul><li><a href=/Talleres/docs/Workshop/workshop_1/visual_ilussion/frisensLazyShadow/>Frisens Lazy Shadow</a></li><li><a href=/Talleres/docs/Workshop/workshop_1/visual_ilussion/jastrowIllusion/>Jastrow Illusion</a></li><li><a href=/Talleres/docs/Workshop/workshop_1/visual_ilussion/kinegramScanimation/>Kinegram Scanimation</a></li><li><a href=/Talleres/docs/Workshop/workshop_1/visual_ilussion/steppingFeetMotionIllusion/>Stepping Feet Motion Illusion</a></li></ul></li></ul></li><li><input type=checkbox id=section-6f90cee8795c0cd7b85a94bc2603fc3f class=toggle>
<label for=section-6f90cee8795c0cd7b85a94bc2603fc3f class="flex justify-between"><a href=/Talleres/docs/Workshop/workshop_2/>Workshop 2</a></label><ul><li><input type=checkbox id=section-673b9b4bfd505a1d2632f367f1a8e21b class=toggle>
<label for=section-673b9b4bfd505a1d2632f367f1a8e21b class="flex justify-between"><a href=/Talleres/docs/Workshop/workshop_2/practice/>Practice</a></label><ul></ul></li><li><input type=checkbox id=section-a1f74c2d4e02c95786884d1e3422628e class=toggle>
<label for=section-a1f74c2d4e02c95786884d1e3422628e class="flex justify-between"><a role=button>Rasterization</a></label><ul><li><a href=/Talleres/docs/Workshop/workshop_2/rasterization/colorShading/>Color Shading</a></li><li><a href=/Talleres/docs/Workshop/workshop_2/rasterization/textureMapping/>Texture Mapping</a></li></ul></li><li><a href=/Talleres/docs/Workshop/workshop_2/tetris/>Tetris</a><ul></ul></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/Talleres/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Coloring</strong>
<label for=toc-control><img src=/Talleres/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#coloring>Coloring</a><ul><li><a href=#problem-statement>Problem statement</a></li><li><a href=#background>Background</a></li><li><a href=#color-mode-code>COLOR MODE CODE</a></li><li><a href=#color-mode-demo>Color Mode Demo</a></li><li><a href=#color-binding-code>Color Binding Code</a></li><li><a href=#color-binding-app>Color binding App</a></li><li><a href=#results>Results</a></li><li><a href=#conclusions-and-future-work>Conclusions and Future Work</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=coloring>Coloring
<a class=anchor href=#coloring>#</a></h1><p>The following samples had the purpose to experiment color and lighting in the shaders. This principles are going to be used later on more sofisticated lighting tequniques.</p><h2 id=problem-statement>Problem statement
<a class=anchor href=#problem-statement>#</a></h2><p>Comprehend properly the color and lighting concepts in the shaders. And to use gragment shaders properly.</p><h2 id=background>Background
<a class=anchor href=#background>#</a></h2><p>Observing the behavior of the color effects, we can rapidly see that the colors are rastered and remapped to the screen. This is because the colors are represented in the range [0,1] and the screen is represented in the range [0,255]. This is the reason why we need to remap the colors to the screen. We also observe every value is normalized on shaders. This is because the values are represented in the range [0,1] and the screen is represented in the range [0,255]. This is the reason why we need to remap the colors to the screen.</p><p>In addition, we saw that the shader is applyed through the fragment shader. This is because the fragment shader is the one that is executed for each pixel of the screen. This is the reason why we need to remap the colors to the screen. The vertex shader needed in the process is given by the actual API, and can be seen throught the console log.</p><h2 id=color-mode-code>COLOR MODE CODE
<a class=anchor href=#color-mode-code>#</a></h2><p>Fisrstable, we test randomizing a triangle with it&rsquo;s vertexes, and apply a mask to it. This mask transforms each color shown in RGB, it&rsquo;s equivalent on CMYK.</p><details open><summary>Color mode app code</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cmy</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>v1</span>, <span style=color:#a6e22e>v2</span>, <span style=color:#a6e22e>v3</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// The vertex shader defines how vertices are projected onto clip space.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Most of the times a projection and modelview matrix are needed for it:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// &lt;https://visualcomputing.github.io/docs/shaders/programming_paradigm/&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Here, however, we are going to:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 1. Define the triangle vertices directly in clip space, thus bypassing
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// both of these matrices (matrices: Tree.NONE). The p5 mandelbrot vertex
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// shader does just the same: &lt;https://p5js.org/reference/#/p5/loadShader&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// 2. Interpolate vertex color data (varyings: Tree.color4). Note that
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// color data is defined in a per vertex basis with the p5 fill command.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// Have a look at the generated vertex shader in the console!
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// readShader: &lt;https://github.com/VisualComputing/p5.treegl#handling&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>colorShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/Talleres/sketches/shaders/coloring/color_mode/change_colormode.frag&#39;</span>,
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NONE</span>, <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>color4</span> });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// shaders require WEBGL mode to work
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cnv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCanvas</span>(<span style=color:#a6e22e>windowWidth</span>, <span style=color:#a6e22e>windowHeight</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnv</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#e6db74>&#39;fixed&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// &lt;https://p5js.org/reference/#/p5/shader&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>colorShader</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>randomizeTriangle</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// the fill command is used to define the colors
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// (to be interpolated) in a per-vertex basis
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>beginShape</span>(<span style=color:#a6e22e>TRIANGLES</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#39;red&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#39;green&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>v2</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>v2</span>.<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#39;blue&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>v3</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>v3</span>.<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>endShape</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// vertices are given directly in clip-space,
</span></span></span><span style=display:flex><span><span style=color:#75715e>// i.e., both x and y vertex coordinates ∈ [-1..1]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>randomizeTriangle</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>v1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>random2D</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>v2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>random2D</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>v3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>random2D</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>keyPressed</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;c&#39;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cmy</span> <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>cmy</span>;
</span></span><span style=display:flex><span>        <span style=color:#75715e>// &lt;https://p5js.org/reference/#/p5.Shader/setUniform&gt;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>colorShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;cmy&#39;</span>, <span style=color:#a6e22e>cmy</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;r&#39;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>randomizeTriangle</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><details><summary>Color binding code</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-frag data-lang=frag><span style=display:flex><span><span style=color:#75715e>// welcome to your first ever shader :)</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// in glsl it is mandatory to define a precision!</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// define color model: rgb (default) or cmy (its complementary)</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>bool</span> cmy;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// interpolated color is emitted from the vertex shader</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// where the variable is defined in the same exact way</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// see your console!</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>varying</span> <span style=color:#66d9ef>vec4</span> color4;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Observe:</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// 1. All colors are normalized thus vec3(1.0, 1.0, 1.0) gives white</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// which is the same as vec3(1.0). See:</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// &lt;https://www.khronos.org/opengl/wiki/Data_Type_(GLSL)#Vector_constructors&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// 2. Use always the decimal digit as in vec3(1.0). Doing it otherwise</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// could lead to errors.</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// 3. color4.rgb builds a vec3 with the first three components of color4</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// (which is a vec4) this is refer to as &#39;swizzling&#39;</span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// see: &lt;https://www.khronos.org/opengl/wiki/Data_Type_(GLSL)#Swizzling&gt;</span>
</span></span><span style=display:flex><span>  gl_FragColor <span style=color:#f92672>=</span> cmy <span style=color:#f92672>?</span> <span style=color:#66d9ef>vec4</span>((<span style=color:#66d9ef>vec3</span>(<span style=color:#ae81ff>1.0</span>) <span style=color:#f92672>-</span> color4.rgb), color4.a) <span style=color:#f92672>:</span> color4;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p>Fragment Shader Taken from Course Notes.</p><h2 id=color-mode-demo>Color Mode Demo
<a class=anchor href=#color-mode-demo>#</a></h2><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td>c</td><td>Change color mode</td></tr><tr><td>r</td><td>Randomize triangle</td></tr></tbody></table><iframe id=color style=width:525px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
            <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script>
            <script src=https://freshfork.github.io/p5.EasyCam/p5.easycam.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            
            <script src=/Talleres/sketches/shaders/coloring/color_mode/color.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=color-binding-code>Color Binding Code
<a class=anchor href=#color-binding-code>#</a></h2><details><summary>Color binding code</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>same_color_shader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>color_binding_shader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>color_picker1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>color_picker2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>square_geometry</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>side</span>, <span style=color:#a6e22e>color</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>side</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>side</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>display</span>() {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// fill(this.color);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>rect</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>x</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>y</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>side</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>side</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>same_color_shader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/Talleres/sketches/shaders/coloring/color_binding/same_color.frag&#39;</span>,
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color_binding_shader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/Talleres/sketches/shaders/coloring/color_binding/color_binding.frag&#39;</span>,
</span></span><span style=display:flex><span>        { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cnv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCanvas</span>(<span style=color:#a6e22e>windowWidth</span>, <span style=color:#a6e22e>windowHeight</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cnv</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#e6db74>&#39;fixed&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color_picker1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#e6db74>&#34;#009087&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color_picker1</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color_picker2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#e6db74>&#34;#ff8928&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color_picker2</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#e6db74>&#34;black&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>squares_sep</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>25</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>square1</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>square_geometry</span>(
</span></span><span style=display:flex><span>        (<span style=color:#f92672>-</span><span style=color:#a6e22e>windowWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>squares_sep</span>,
</span></span><span style=display:flex><span>        (<span style=color:#f92672>-</span> <span style=color:#a6e22e>windowHeight</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>squares_sep</span>,
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>windowWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>color_picker1</span>.<span style=color:#a6e22e>color</span>()
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>square2</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>square_geometry</span>(
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>squares_sep</span>,
</span></span><span style=display:flex><span>        (<span style=color:#f92672>-</span><span style=color:#a6e22e>windowHeight</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>-</span> <span style=color:#a6e22e>squares_sep</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>windowWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>color_picker2</span>.<span style=color:#a6e22e>color</span>()
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>square3</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>square_geometry</span>(
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>\</span><span style=color:#f92672>-</span><span style=color:#a6e22e>windowWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>6</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>squares_sep</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>windowWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>color_picker1</span>.<span style=color:#a6e22e>color</span>()
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>same_color_shader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;color1&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>\</span>[(<span style=color:#a6e22e>square1</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>),
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>square1</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>),
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>square1</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>)]
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>same_color_shader</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>square1</span>.<span style=color:#a6e22e>display</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>same_color_shader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;color1&#39;</span>,
</span></span><span style=display:flex><span>        [(<span style=color:#a6e22e>square2</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>),
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>square2</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>),
</span></span><span style=display:flex><span>        (<span style=color:#a6e22e>square2</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>)]
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>same_color_shader</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>square2</span>.<span style=color:#a6e22e>display</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color_binding_shader</span>.<span style=color:#a6e22e>setUniform</span>(
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;color1&#39;</span>,
</span></span><span style=display:flex><span>        [
</span></span><span style=display:flex><span>            (<span style=color:#a6e22e>square1</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>),
</span></span><span style=display:flex><span>            (<span style=color:#a6e22e>square1</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>),
</span></span><span style=display:flex><span>            (<span style=color:#a6e22e>square1</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span>        ]);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color_binding_shader</span>.<span style=color:#a6e22e>setUniform</span>(
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;color2&#39;</span>,
</span></span><span style=display:flex><span>        [
</span></span><span style=display:flex><span>            (<span style=color:#a6e22e>square2</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>),
</span></span><span style=display:flex><span>            (<span style=color:#a6e22e>square2</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>),
</span></span><span style=display:flex><span>            (<span style=color:#a6e22e>square2</span>.<span style=color:#a6e22e>color</span>.<span style=color:#a6e22e>levels</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>color_binding_shader</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>square3</span>.<span style=color:#a6e22e>display</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>windowResized</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>resizeCanvas</span>(<span style=color:#a6e22e>windowWidth</span>, <span style=color:#a6e22e>windowHeight</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><details><summary>Color binding fragment shader</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-frag data-lang=frag><span style=display:flex><span><span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// uniforms are emitted from the sketch</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// &lt;https://p5js.org/reference/#/p5.Shader/setUniform&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec4</span> color1;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec4</span> color2;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span>  gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(color1 <span style=color:#f92672>*</span> color2);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><details><summary>Color binding code (shows original color)</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-frag data-lang=frag><span style=display:flex><span><span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// uniforms are emitted from the sketch</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// &lt;https://p5js.org/reference/#/p5.Shader/setUniform&gt;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec4</span> color1;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span>  gl_FragColor <span style=color:#f92672>=</span> color1;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p>Fragment Shader Taken from Course Notes.</p><h2 id=color-binding-app>Color binding App
<a class=anchor href=#color-binding-app>#</a></h2><iframe id=color style=width:525px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
            <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script>
            <script src=https://freshfork.github.io/p5.EasyCam/p5.easycam.js></script>
            
            
            
            
            
            <script src=/Talleres/sketches/shaders/coloring/color_binding/color.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=results>Results
<a class=anchor href=#results>#</a></h2><p>After doing each exercise, we were able to understand the shaders principles. How them are remapped, and it&rsquo;s application. It was a challenging exercise, but it was very interesting to see how the shaders work.</p><h2 id=conclusions-and-future-work>Conclusions and Future Work
<a class=anchor href=#conclusions-and-future-work>#</a></h2><p>We were motivated by the overall exercises to continue exploring this area, and other areas of the course. For example ray-tracing, and other research areas.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/Visual-Computing-2022-2/Talleres/commit/8620bc5d2708c675808690360c5e73b734868fc6 title='Last modified by dasilvaca | November 30, 2022' target=_blank rel=noopener><img src=/Talleres/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 30, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#coloring>Coloring</a><ul><li><a href=#problem-statement>Problem statement</a></li><li><a href=#background>Background</a></li><li><a href=#color-mode-code>COLOR MODE CODE</a></li><li><a href=#color-mode-demo>Color Mode Demo</a></li><li><a href=#color-binding-code>Color Binding Code</a></li><li><a href=#color-binding-app>Color binding App</a></li><li><a href=#results>Results</a></li><li><a href=#conclusions-and-future-work>Conclusions and Future Work</a></li></ul></li></ul></nav></div></aside></main></body></html>